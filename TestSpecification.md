# テスト仕様と設計

## 1. はじめに
このドキュメントは、ShisanKanriプロジェクトにおける現在のテスト仕様と設計について記述します。プロジェクトの品質を保証し、継続的な開発をサポートするためのテスト戦略を明確にすることを目的としています。

## 2. テスト戦略の概要
DesignDoc.mdに記載されている通り、本プロジェクトでは以下のテストツールと戦略を採用しています。
- **フロントエンド**: Playwright を使用し、E2E (End-to-End) テストを中心に実施します。
- **バックエンド**: Pytest を使用し、単体テストおよび統合テストを実施します。

## 3. フロントエンドテスト

### 3.1. 使用ツール
- Playwright

### 3.2. 既存のテスト
現在、`frontend/e2e/basic.spec.ts` に基本的なE2Eテストが実装されています。

#### `frontend/e2e/basic.spec.ts` のテストケース一覧:

1.  **テストケース: ページのタイトル検証**
    *   **目的**: ページが正しいタイトルを持つことを確認する。
    *   **手順**:
        1.  `https://playwright.dev/` にアクセスする。
        2.  ページのタイトルが "Playwright" を含むことを検証する。

2.  **テストケース: 「Get started」リンクの検証**
    *   **目的**: 「Get started」リンクが正しく機能し、適切なページに遷移することを確認する。
    *   **手順**:
        1.  `https://playwright.dev/` にアクセスする。
        2.  「Get started」という名前のリンクをクリックする。
        3.  遷移先のページに「Installation」という見出しが表示されていることを検証する。

### 3.3. 今後のテスト計画
- **UIコンポーネントテスト**: 各UIコンポーネントが期待通りに動作し、表示されることを確認します。
- **API連携テスト**: フロントエンドとバックエンド間のAPI連携が正しく機能することを確認します。
- **ユーザーフローテスト**: ユーザーがアプリケーション内で主要なタスク（例: ログイン、資産の追加・編集、レポートの表示）を完了できることを確認します。
- **レスポンシブデザインテスト**: 異なるデバイスや画面サイズでの表示と操作性を確認します。

## 4. バックエンドテスト

### 4.1. 使用ツール
- Pytest

### 4.2. 既存のテスト
現在、プロジェクト固有のバックエンドテストは実装されていません。
以前の調査で `backend/venv/Lib/site-packages/` 以下に多数の `test_*.py` や `*_test.py` ファイルが見つかりましたが、これらはプロジェクトの依存関係（インストールされたライブラリ）に含まれるテストファイルであり、本プロジェクトのコードに対するテストではありません。

### 4.3. 今後のテスト計画
- **APIエンドポイントテスト**: 各APIエンドポイントが期待されるリクエストに対して正しいレスポンスを返すことを確認します。これには、正常系、異常系（バリデーションエラー、認証エラーなど）のテストを含みます。
- **データベース操作テスト**: CRUD (Create, Read, Update, Delete) 操作がデータベースに対して正しく行われることを確認します。
- **ビジネスロジックテスト**: 資産管理、データ集計、市場データ取得などのコアビジネスロジックが正しく機能することを確認します。
- **単体テスト**: 各関数やクラスの最小単位での動作を検証します。
- **統合テスト**: 複数のコンポーネント（例: APIエンドポイントとデータベース）が連携して正しく動作することを確認します。
